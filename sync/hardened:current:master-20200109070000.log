==== BEGIN: hardened/current/master ====
current branch: hardened/current/master
mergeable branch: freebsd/current/master
==== change branch ====
Switched to branch 'hardened/current/master'
Your branch is up to date with 'origin/hardened/current/master'.
==== show current branch ====
  freebsd/11-stable/master
  freebsd/11.2-releng/master
  freebsd/12-stable/master
  freebsd/12.1-releng/master
  freebsd/current/master
  hardened/11-stable/master
  hardened/11.2-releng/master
  hardened/12-stable/master
  hardened/12.1-releng/master
* hardened/current/master
==== check for stale changes ====
==== update to latest origin ====
Already up to date.
==== merge branches ====
==== merge freebsd/current/master branch ====
Auto-merging usr.sbin/bhyve/xmsr.c
Auto-merging usr.sbin/bhyve/bhyverun.c
Auto-merging sys/kern/vfs_syscalls.c
Auto-merging share/mk/src.opts.mk
Auto-merging share/mk/bsd.prog.mk
CONFLICT (content): Merge conflict in share/mk/bsd.prog.mk
Auto-merging share/mk/bsd.lib.mk
Auto-merging share/man/man5/src.conf.5
CONFLICT (content): Merge conflict in share/man/man5/src.conf.5
Auto-merging libexec/rtld-elf/rtld.c
Removing gnu/lib/libgcc/Makefile.depend
Removing gnu/lib/libgcc/Makefile
Auto-merging Makefile.inc1
Automatic merge failed; fix conflicts and then commit the result.
==== merge failed at freebsd/current/master branch ====
diff --cc share/man/man5/src.conf.5
index 93bd0252c9c8,ae8c094a2d70..000000000000
--- a/share/man/man5/src.conf.5
+++ b/share/man/man5/src.conf.5
@@@ -1,6 -1,6 +1,10 @@@
  .\" DO NOT EDIT-- this file is @generated by tools/build/options/makeman.
  .\" $FreeBSD$
++<<<<<<< HEAD
 +.Dd January 7, 2020
++=======
+ .Dd January 8, 2020
++>>>>>>> freebsd/current/master
  .Dt SRC.CONF 5
  .Os
  .Sh NAME
@@@ -1010,7 -969,7 +1014,11 @@@ On 64-bit platforms, set to build 32-bi
  runtime linker.
  .Pp
  This is a default setting on
++<<<<<<< HEAD
 +amd64/amd64, powerpc/powerpc64, mips/mips64el, mips/mips64, mips/mips64elhf and mips/mips64hf.
++=======
+ arm/armv6, arm/armv7, arm64/aarch64, i386/i386, mips/mipsel, mips/mips, mips/mipsn32, mips/mipselhf, mips/mipshf, powerpc/powerpc, riscv/riscv64, riscv/riscv64sf and sparc64/sparc64.
++>>>>>>> freebsd/current/master
  .It Va WITHOUT_LIBCPLUSPLUS
  Set to avoid building libcxxrt and libc++.
  .It Va WITHOUT_LIBPTHREAD
@@@ -1061,15 -1018,7 +1069,19 @@@ To be able to build the system, either 
  enabled unless an alternate linker is provided via XLD.
  .Pp
  This is a default setting on
++<<<<<<< HEAD
 +powerpc/powerpc, riscv/riscv64, mips/mipsel, mips/mips, mips/mips64el, mips/mips64, mips/mipsn32, mips/mipselhf, mips/mipshf, mips/mips64elhf, mips/mips64hf and sparc64/sparc64.
 +When set, it enforces these options:
 +.Pp
 +.Bl -item -compact
 +.It
 +.Va WITHOUT_CFI
 +.It
 +.Va WITHOUT_RETPOLINE
 +.El
++=======
+ mips/mipsel, mips/mips, mips/mips64el, mips/mips64, mips/mipsn32, mips/mipselhf, mips/mipshf, mips/mips64elhf, mips/mips64hf, powerpc/powerpc and sparc64/sparc64.
++>>>>>>> freebsd/current/master
  .It Va WITH_LLD_BOOTSTRAP
  Set to build the LLD linker during the bootstrap phase of the build,
  and use it during buildworld and buildkernel.
@@@ -1080,15 -1029,7 +1092,19 @@@ amd64/amd64, arm/armv6, arm/armv7, arm6
  Set to use GNU binutils ld as the system linker, instead of LLVM's LLD.
  .Pp
  This is a default setting on
++<<<<<<< HEAD
 +powerpc/powerpc, riscv/riscv64, mips/mipsel, mips/mips, mips/mips64el, mips/mips64, mips/mipsn32, mips/mipselhf, mips/mipshf, mips/mips64elhf, mips/mips64hf and sparc64/sparc64.
 +When set, it enforces these options:
 +.Pp
 +.Bl -item -compact
 +.It
 +.Va WITHOUT_CFI
 +.It
 +.Va WITHOUT_RETPOLINE
 +.El
++=======
+ mips/mipsel, mips/mips, mips/mips64el, mips/mips64, mips/mipsn32, mips/mipselhf, mips/mipshf, mips/mips64elhf, mips/mips64hf, powerpc/powerpc and sparc64/sparc64.
++>>>>>>> freebsd/current/master
  .It Va WITH_LLD_IS_LD
  Set to use LLVM's LLD as the system linker, instead of GNU binutils ld.
  .Pp
diff --cc share/mk/bsd.prog.mk
index 122455df83be,7854a1b01820..000000000000
--- a/share/mk/bsd.prog.mk
+++ b/share/mk/bsd.prog.mk
@@@ -35,6 -35,32 +35,35 @@@ PROG=	${PROG_CXX
  MK_DEBUG_FILES=	no
  .endif
  
++<<<<<<< HEAD
++=======
+ # ELF hardening knobs
+ .if ${MK_BIND_NOW} != "no"
+ LDFLAGS+= -Wl,-znow
+ .endif
+ .if ${MK_PIE} != "no" && (!defined(NO_SHARED) || ${NO_SHARED:tl} == "no")
+ CFLAGS+= -fPIE
+ CXXFLAGS+= -fPIE
+ LDFLAGS+= -pie
+ .endif
+ .if ${MK_RETPOLINE} != "no"
+ .if ${COMPILER_FEATURES:Mretpoline} && ${LINKER_FEATURES:Mretpoline}
+ CFLAGS+= -mretpoline
+ CXXFLAGS+= -mretpoline
+ # retpolineplt is broken with static linking (PR 233336)
+ .if !defined(NO_SHARED) || ${NO_SHARED:tl} == "no"
+ LDFLAGS+= -Wl,-zretpolineplt
+ .endif
+ .else
+ .warning Retpoline requested but not supported by compiler or linker
+ .endif
+ .endif
+ 
+ .if ${MACHINE_CPUARCH} == "riscv" && ${LINKER_FEATURES:Mriscv-relaxations} == ""
+ CFLAGS += -mno-relax
+ .endif
+ 
++>>>>>>> freebsd/current/master
  .if defined(CRUNCH_CFLAGS)
  CFLAGS+=${CRUNCH_CFLAGS}
  .else
On branch hardened/current/master
Your branch is up to date with 'origin/hardened/current/master'.

You have unmerged paths.
  (fix conflicts and run "git commit")
  (use "git merge --abort" to abort the merge)

Changes to be committed:
	modified:   Makefile.inc1
	modified:   UPDATING
	modified:   contrib/llvm-project/libunwind/include/__libunwind_config.h
	modified:   contrib/llvm-project/libunwind/src/config.h
	modified:   gnu/lib/Makefile
	deleted:    gnu/lib/libgcc/Makefile
	deleted:    gnu/lib/libgcc/Makefile.depend
	modified:   lib/libc/sys/posix_fallocate.2
	modified:   libexec/rc/rc.d/netoptions
	modified:   libexec/rtld-elf/rtld.c
	modified:   share/man/man4/md.4
	modified:   share/man/man7/arch.7
	modified:   share/man/man9/zone.9
	modified:   share/mk/bsd.cpu.mk
	modified:   share/mk/bsd.lib.mk
	modified:   share/mk/src.opts.mk
	modified:   stand/fdt/fdt_loader_cmd.c
	modified:   stand/fdt/fdt_platform.h
	modified:   stand/uboot/fdt/uboot_fdt.c
	modified:   sys/arm/arm/busdma_machdep-v6.c
	modified:   sys/arm64/include/atomic.h
	modified:   sys/dev/cxgbe/tom/t4_tom.c
	modified:   sys/dev/iicbus/mux/iic_gpiomux.c
	modified:   sys/dev/iicbus/mux/iicmux.c
	modified:   sys/dev/nvme/nvme_ctrlr.c
	modified:   sys/dev/usb/controller/xhci.c
	modified:   sys/dev/usb/controller/xhci.h
	modified:   sys/kern/Makefile
	modified:   sys/kern/sys_generic.c
	modified:   sys/kern/uipc_shm.c
	modified:   sys/kern/vfs_syscalls.c
	modified:   sys/kern/vfs_vnops.c
	modified:   sys/net/if.c
	modified:   sys/netinet/tcp_input.c
	modified:   sys/netinet/tcp_stacks/bbr.c
	modified:   sys/netinet/tcp_stacks/rack.c
	modified:   sys/netinet/tcp_subr.c
	modified:   sys/netinet/tcp_timer.c
	modified:   sys/netinet/tcp_timer.h
	modified:   sys/netinet/tcp_var.h
	modified:   sys/netinet/udp_usrreq.c
	modified:   sys/netinet/udp_var.h
	modified:   sys/netinet6/udp6_usrreq.c
	modified:   sys/opencrypto/cryptodev.c
	modified:   sys/sys/file.h
	modified:   sys/sys/param.h
	modified:   sys/vm/uma.h
	modified:   sys/vm/uma_core.c
	modified:   sys/vm/uma_int.h
	modified:   tests/sys/posixshm/posixshm_test.c
	modified:   usr.sbin/bhyve/audio.c
	modified:   usr.sbin/bhyve/bhyverun.c
	modified:   usr.sbin/bhyve/block_if.c
	modified:   usr.sbin/bhyve/bootrom.c
	modified:   usr.sbin/bhyve/consport.c
	new file:   usr.sbin/bhyve/debug.h
	modified:   usr.sbin/bhyve/hda_codec.c
	modified:   usr.sbin/bhyve/mptbl.c
	modified:   usr.sbin/bhyve/net_backends.c
	modified:   usr.sbin/bhyve/net_utils.c
	modified:   usr.sbin/bhyve/pci_ahci.c
	modified:   usr.sbin/bhyve/pci_e82545.c
	modified:   usr.sbin/bhyve/pci_emul.c
	modified:   usr.sbin/bhyve/pci_fbuf.c
	modified:   usr.sbin/bhyve/pci_hda.c
	modified:   usr.sbin/bhyve/pci_hda.h
	modified:   usr.sbin/bhyve/pci_lpc.c
	modified:   usr.sbin/bhyve/pci_nvme.c
	modified:   usr.sbin/bhyve/pci_uart.c
	modified:   usr.sbin/bhyve/pci_virtio_block.c
	modified:   usr.sbin/bhyve/pci_virtio_console.c
	modified:   usr.sbin/bhyve/pci_virtio_net.c
	modified:   usr.sbin/bhyve/pci_virtio_rnd.c
	modified:   usr.sbin/bhyve/pci_virtio_scsi.c
	modified:   usr.sbin/bhyve/pci_xhci.c
	modified:   usr.sbin/bhyve/ps2kbd.c
	modified:   usr.sbin/bhyve/ps2mouse.c
	modified:   usr.sbin/bhyve/rfb.c
	modified:   usr.sbin/bhyve/smbiostbl.c
	modified:   usr.sbin/bhyve/task_switch.c
	modified:   usr.sbin/bhyve/uart_emul.c
	modified:   usr.sbin/bhyve/usb_mouse.c
	modified:   usr.sbin/bhyve/virtio.c
	modified:   usr.sbin/bhyve/xmsr.c

Unmerged paths:
  (use "git add <file>..." to mark resolution)
	both modified:   share/man/man5/src.conf.5
	both modified:   share/mk/bsd.prog.mk

HEAD is now at 05174aa347dc Merge branch 'freebsd/current/master' into hardened/current/master
==== merge failed and clean up after ====
On branch hardened/current/master
Your branch is up to date with 'origin/hardened/current/master'.

nothing to commit, working tree clean
HEAD is now at 05174aa347dc Merge branch 'freebsd/current/master' into hardened/current/master
==== END: hardened/current/master ====
