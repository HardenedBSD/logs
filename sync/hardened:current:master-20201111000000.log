==== BEGIN: hardened/current/master ====
current branch: hardened/current/master
mergeable branch: freebsd/current/master
==== change branch ====
Switched to branch 'hardened/current/master'
Your branch is up to date with 'origin/hardened/current/master'.
==== show current branch ====
  freebsd/11-stable/master
  freebsd/11.2-releng/master
  freebsd/12-stable/master
  freebsd/12.1-releng/master
  freebsd/12.2-releng/master
  freebsd/current/master
  hardened/11-stable/master
  hardened/11.2-releng/master
  hardened/12-stable/master
  hardened/12.1-releng/master
  hardened/12.2-releng/master
* hardened/current/master
==== check for stale changes ====
==== update to latest origin ====
warning: Pulling without specifying how to reconcile divergent branches is
discouraged. You can squelch this message by running one of the following
commands sometime before your next pull:

  git config pull.rebase false  # merge (the default strategy)
  git config pull.rebase true   # rebase
  git config pull.ff only       # fast-forward only

You can replace "git config" with "git config --global" to set a default
preference for all repositories. You can also pass --rebase, --no-rebase,
or --ff-only on the command line to override the configured default per
invocation.

=============================
HardenedBSD Master git Server
=============================

Please note that connections and activity to this server are logged.
This server, git-01.md.hardenedbsd.org, acts as the source-of-truth
server for the HardenedBSD repositories.

Banner last updated: 10 Feb 2020 09:32 EST

Already up to date.
==== merge branches ====
==== merge freebsd/current/master branch ====
Auto-merging sys/kern/kern_resource.c
Auto-merging sys/kern/kern_proc.c
Auto-merging sys/conf/kern.opts.mk
Auto-merging sys/conf/kern.mk
Auto-merging share/mk/bsd.prog.mk
CONFLICT (content): Merge conflict in share/mk/bsd.prog.mk
Auto-merging share/mk/bsd.opts.mk
Auto-merging share/mk/bsd.lib.mk
CONFLICT (content): Merge conflict in share/mk/bsd.lib.mk
Automatic merge failed; fix conflicts and then commit the result.
==== merge failed at freebsd/current/master branch ====
diff --cc share/mk/bsd.lib.mk
index 7da69bdad0e5,ce29fcdcaa65..000000000000
--- a/share/mk/bsd.lib.mk
+++ b/share/mk/bsd.lib.mk
@@@ -71,6 -71,39 +71,42 @@@ TAGS+=		package=${PACKAGE:Uutilities
  TAG_ARGS=	-T ${TAGS:[*]:S/ /,/g}
  .endif
  
++<<<<<<< HEAD
++=======
+ # ELF hardening knobs
+ .if ${MK_BIND_NOW} != "no"
+ LDFLAGS+= -Wl,-znow
+ .endif
+ .if ${MK_RETPOLINE} != "no"
+ .if ${COMPILER_FEATURES:Mretpoline} && ${LINKER_FEATURES:Mretpoline}
+ CFLAGS+= -mretpoline
+ CXXFLAGS+= -mretpoline
+ LDFLAGS+= -Wl,-zretpolineplt
+ .else
+ .warning Retpoline requested but not supported by compiler or linker
+ .endif
+ .endif
+ 
+ # Initialize stack variables on function entry
+ .if ${MK_INIT_ALL_ZERO} == "yes"
+ .if ${COMPILER_FEATURES:Minit-all}
+ CFLAGS+= -ftrivial-auto-var-init=zero \
+     -enable-trivial-auto-var-init-zero-knowing-it-will-be-removed-from-clang
+ CXXFLAGS+= -ftrivial-auto-var-init=zero \
+     -enable-trivial-auto-var-init-zero-knowing-it-will-be-removed-from-clang
+ .else
+ .warning InitAll (zeros) requested but not support by compiler
+ .endif
+ .elif ${MK_INIT_ALL_PATTERN} == "yes"
+ .if ${COMPILER_FEATURES:Minit-all}
+ CFLAGS+= -ftrivial-auto-var-init=pattern
+ CXXFLAGS+= -ftrivial-auto-var-init=pattern
+ .else
+ .warning InitAll (pattern) requested but not support by compiler
+ .endif
+ .endif
+ 
++>>>>>>> freebsd/current/master
  .if ${MK_DEBUG_FILES} != "no" && empty(DEBUG_FLAGS:M-g) && \
      empty(DEBUG_FLAGS:M-gdwarf*)
  CFLAGS+= ${DEBUG_FILES_CFLAGS}
diff --cc share/mk/bsd.prog.mk
index b10b9f55d43d,401915b3f525..000000000000
--- a/share/mk/bsd.prog.mk
+++ b/share/mk/bsd.prog.mk
@@@ -35,6 -35,50 +35,53 @@@ PROG=	${PROG_CXX
  MK_DEBUG_FILES=	no
  .endif
  
++<<<<<<< HEAD
++=======
+ # ELF hardening knobs
+ .if ${MK_BIND_NOW} != "no"
+ LDFLAGS+= -Wl,-znow
+ .endif
+ .if ${MK_PIE} != "no"
+ # Static PIE is not yet supported/tested.
+ .if !defined(NO_SHARED) || ${NO_SHARED:tl} == "no"
+ CFLAGS+= -fPIE
+ CXXFLAGS+= -fPIE
+ LDFLAGS+= -pie
+ .endif
+ .endif
+ .if ${MK_RETPOLINE} != "no"
+ .if ${COMPILER_FEATURES:Mretpoline} && ${LINKER_FEATURES:Mretpoline}
+ CFLAGS+= -mretpoline
+ CXXFLAGS+= -mretpoline
+ # retpolineplt is broken with static linking (PR 233336)
+ .if !defined(NO_SHARED) || ${NO_SHARED:tl} == "no"
+ LDFLAGS+= -Wl,-zretpolineplt
+ .endif
+ .else
+ .warning Retpoline requested but not supported by compiler or linker
+ .endif
+ .endif
+ 
+ # Initialize stack variables on function entry
+ .if ${MK_INIT_ALL_ZERO} == "yes"
+ .if ${COMPILER_FEATURES:Minit-all}
+ CFLAGS+= -ftrivial-auto-var-init=zero \
+     -enable-trivial-auto-var-init-zero-knowing-it-will-be-removed-from-clang
+ CXXFLAGS+= -ftrivial-auto-var-init=zero \
+     -enable-trivial-auto-var-init-zero-knowing-it-will-be-removed-from-clang
+ .else
+ .warning InitAll (zeros) requested but not support by compiler
+ .endif
+ .elif ${MK_INIT_ALL_PATTERN} == "yes"
+ .if ${COMPILER_FEATURES:Minit-all}
+ CFLAGS+= -ftrivial-auto-var-init=pattern
+ CXXFLAGS+= -ftrivial-auto-var-init=pattern
+ .else
+ .warning InitAll (pattern) requested but not support by compiler
+ .endif
+ .endif
+ 
++>>>>>>> freebsd/current/master
  .if ${MACHINE_CPUARCH} == "riscv" && ${LINKER_FEATURES:Mriscv-relaxations} == ""
  CFLAGS += -mno-relax
  .endif
On branch hardened/current/master
Your branch is up to date with 'origin/hardened/current/master'.

You have unmerged paths.
  (fix conflicts and run "git commit")
  (use "git merge --abort" to abort the merge)

Changes to be committed:
	modified:   lib/csu/common/crtend.c
	modified:   lib/csu/tests/Makefile
	modified:   lib/csu/tests/dynamic/Makefile
	new file:   lib/csu/tests/dynamicpie/Makefile
	modified:   lib/csu/tests/fini_test.c
	modified:   share/mk/bsd.compiler.mk
	modified:   share/mk/bsd.opts.mk
	modified:   share/mk/local.meta.sys.mk
	modified:   sys/conf/kern.mk
	modified:   sys/conf/kern.opts.mk
	modified:   sys/dev/cxgbe/tom/t4_tom.c
	modified:   sys/kern/kern_proc.c
	modified:   sys/kern/kern_resource.c
	modified:   sys/vm/uma_core.c
	new file:   tools/build/options/WITH_INIT_ALL_PATTERN
	new file:   tools/build/options/WITH_INIT_ALL_ZERO

Unmerged paths:
  (use "git add <file>..." to mark resolution)
	both modified:   share/mk/bsd.lib.mk
	both modified:   share/mk/bsd.prog.mk

HEAD is now at 41effb5cc0e4 Merge branch 'freebsd/current/master' into hardened/current/master
==== merge failed and clean up after ====
On branch hardened/current/master
Your branch is up to date with 'origin/hardened/current/master'.

nothing to commit, working tree clean
HEAD is now at 41effb5cc0e4 Merge branch 'freebsd/current/master' into hardened/current/master
==== END: hardened/current/master ====
